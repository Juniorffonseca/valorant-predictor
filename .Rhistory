pegarMedias <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, 'K:D', ADR, KAST)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- colMeans(dados_jogador, na.rm = T)
return(means_jogador)
}
test <- list()
for(i in timeA){
test[[length(teste)+1]] <- pegarMedias(i)
}
for(i in timeA){
test[[length(test)+1]] <- pegarMedias(i)
}
View(test)
?colMeans
pegarMedias <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, 'K:D', ADR, KAST)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- round(colMeans(dados_jogador, na.rm = T), 2)
return(means_jogador)
}
test <- list()
for(i in timeA){
test[[length(test)+1]] <- pegarMedias(i)
}
View(test)
pegarMedias <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, 'K:D', ADR, KAST)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- round(colMeans(dados_jogador, na.rm = T), 2)
means_jogador$KAST <- round(means_jogador$KAST, 0)
return(means_jogador)
}
test <- list()
for(i in timeA){
test[[length(test)+1]] <- pegarMedias(i)
}
pegarMedias <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, 'K:D', ADR, KAST)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- round(colMeans(dados_jogador, na.rm = T), 2)
#means_jogador$KAST <- round(means_jogador$KAST, 0)
return(means_jogador)
}
test <- list()
for(i in timeA){
test[[length(test)+1]] <- pegarMedias(i)
}
View(test)
test
test[1]
teste[1]$KAST
test[1]$KAST
test <- test %>%  map_df(as_tibble)
test <- list()
for(i in timeA){
test[[length(test)+1]] <- pegarMedias(i)
}
unlist(test)
test <- unlist(test)
test <- list()
for(i in timeA){
test[[length(test)+1]] <- pegarMedias(i)
}
test <- test %>% map_df(as_tibble)
test <- list()
for(i in timeA){
test[[length(test)+1]] <- pegarMedias(i)
}
test <- as.data.frame(test)
View(test)
pegarMedias <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, 'K:D', ADR, KAST)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- round(colMeans(dados_jogador, na.rm = T), 2)
means_jogador$KAST <- round(means_jogador$KAST, 0)
return(means_jogador)
}
test <- list()
for(i in timeA){
test[[length(test)+1]] <- pegarMedias(i)
}
pegarMedias <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, 'K:D', ADR, KAST)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- round(colMeans(dados_jogador, na.rm = T), 2)
means_jogador[['KAST']] <- round(means_jogador[['KAST']], 0)
return(means_jogador)
}
test <- list()
for(i in timeA){
test[[length(test)+1]] <- pegarMedias(i)
}
View(test)
timeA_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
rm(test)
timeB_medias <- list()
for (i in timeB){
timeB_medias[[length(timeB_medias)+1]] <- pegarMedias(i)
}
View(timeB_medias)
View(timeA_medias)
View(timeB_medias)
as.data.frame(timeA_medias)
View(timeA_medias)
timeA_medias <- as.data.frame(timeA_medias)
timeA_medias <- rowMeans(timeA_medias)
links_jogadores <- read_html(string_url) %>%
html_nodes('td.mod-player a') %>%
html_attr('href')
string_url <- 'https://www.vlr.gg/167037/tropicaos-vs-keyd-stars-challengers-league-brazil-split-1-w3'
# Pegando os dados no link da partida ----------------------------------------------------------------------
links_jogadores <- read_html(string_url) %>%
html_nodes('td.mod-player a') %>%
html_attr('href')
timeA <- links_jogadores[1:5]
timeB <- links_jogadores[6:10]
#  -----------------------
n <- 1
for (i in timeA){
timeA[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
n <- 1
for(i in timeB){
timeB[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
rm(links_jogadores, n, string_url)
pegarMedias <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, 'K:D', ADR, KAST)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- round(colMeans(dados_jogador, na.rm = T), 2)
means_jogador[['KAST']] <- round(means_jogador[['KAST']], 0)
return(means_jogador)
}
timeA_medias <- list()
timeB_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
for (i in timeB){
timeB_medias[[length(timeB_medias)+1]] <- pegarMedias(i)
}
timeA_medias <- as.data.frame(timeA_medias)
timeA_medias <- round(rowMeans(timeA_medias), 2)
timeA_medias <- as.data.frame(timeA_medias)
View(timeA_medias)
timeA_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
timeA_medias <- as.data.frame(timeA_medias)
timeA_medias <- as.data.frame(round(rowMeans(timeA_medias), 2)))
timeA_medias <- as.data.frame(round(rowMeans(timeA_medias), 2))
View(timeA_medias)
timeA_medias <- transpose(timeA_medias)
timeA_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
timeA_medias <- as.data.frame(timeA_medias)
timeA_medias <- as.data.frame(round(rowMeans(timeA_medias), 2))
timeA_medias <- t(timeA_medias)
View(timeA_medias)
as.data.frame(timeA_medias)
timeA_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
timeA_medias <- as.data.frame(timeA_medias)
timeA_medias <- as.data.frame(round(rowMeans(timeA_medias), 2))
timeA_medias <- as.data.frame(t(timeA_medias))
View(timeA_medias)
timeA_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
timeA_medias <- as.data.frame(timeA_medias) %>% round(rowMeans(), 2) %>% as.data.frame(t())
timeA_medias <- as.data.frame(timeA_medias) %>% round(rowMeans(), 2) %>% as.data.frame(t(timeA_medias))
timeA_medias <- as.data.frame(timeA_medias) %>% round(rowMeans(timeA_medias), 2) %>% as.data.frame(t())
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% as.data.frame(t())
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% as.data.frame(t(timeA_medias))
View(timeA_medias)
timeA_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% as.data.frame()
View(timeA_medias)
timeA_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% t()
View(timeA_medias)
timeA_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% t() %>% as.data.frame
View(timeA_medias)
timeA_medias$KAST <- round(timeA_medias$KAST, 0)
timeB_medias <- round(rowMeans(as.data.frame(timeB_medias)), 2) %>% t %>% as.data.frame
View(timeB_medias)
View(timeA_medias)
partida <- cbind(timeA_medias, timeB_medias)
View(partida)
View(partida)
# Url da partida
string_url <- 'https://www.vlr.gg/167037/tropicaos-vs-keyd-stars-challengers-league-brazil-split-1-w3'
# Pegando os dados no link da partida ----------------------------------------------------------------------
links_jogadores <- read_html(string_url) %>%
html_nodes('td.mod-player a') %>%
html_attr('href')
timeA <- links_jogadores[1:5]
timeB <- links_jogadores[6:10]
#  -----------------------
n <- 1
for (i in timeA){
timeA[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
n <- 1
for(i in timeB){
timeB[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
rm(links_jogadores, n, string_url)
pegarMedias <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, KAST, 'K:D', ADR)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- round(colMeans(dados_jogador, na.rm = T), 2)
means_jogador[['KAST']] <- round(means_jogador[['KAST']], 0)
return(means_jogador)
}
timeA_medias <- list()
timeB_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- pegarMedias(i)
}
for (i in timeB){
timeB_medias[[length(timeB_medias)+1]] <- pegarMedias(i)
}
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% t %>% as.data.frame
timeA_medias$KAST <- round(timeA_medias$KAST, 0)
timeB_medias <- round(rowMeans(as.data.frame(timeB_medias)), 2) %>% t %>% as.data.frame
partida <- cbind(timeA_medias, timeB_medias)
?select
select(partida[1])
select(partida, [1])
select(partida, Rating)
?cbind
colnames(partida) <- c('time1R', 'time1ACS', 'time1KAST', 'time1KD', 'time1ADR',
'time2R', 'time2ACS', 'time2KAST', 'time2KD', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
View(partida)
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
medias_times <- function (string_url){
# Pegando os dados no link da partida ----------------------------------------------------------------------
links_jogadores <- read_html(string_url) %>%
html_nodes('td.mod-player a') %>%
html_attr('href')
timeA <- links_jogadores[1:5]
timeB <- links_jogadores[6:10]
#  -----------------------
n <- 1
for (i in timeA){
timeA[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
n <- 1
for(i in timeB){
timeB[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
rm(links_jogadores, n, string_url)
timeA_medias <- list()
timeB_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- medias_jogadores(i)
}
for (i in timeB){
timeB_medias[[length(timeB_medias)+1]] <- medias_jogadores(i)
}
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% t %>% as.data.frame
timeA_medias$KAST <- round(timeA_medias$KAST, 0)
timeB_medias <- round(rowMeans(as.data.frame(timeB_medias)), 2) %>% t %>% as.data.frame
partida <- cbind(timeA_medias, timeB_medias)
colnames(partida) <- c('time1R', 'time1ACS', 'time1KAST', 'time1KD', 'time1ADR',
'time2R', 'time2ACS', 'time2KAST', 'time2KD', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
return(partida)
}
medias_jogadores <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, KAST, 'K:D', ADR)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- round(colMeans(dados_jogador, na.rm = T), 2)
means_jogador[['KAST']] <- round(means_jogador[['KAST']], 0)
return(means_jogador)
}
medias_times <- function (string_url){
# Pegando os dados no link da partida ----------------------------------------------------------------------
links_jogadores <- read_html(string_url) %>%
html_nodes('td.mod-player a') %>%
html_attr('href')
timeA <- links_jogadores[1:5]
timeB <- links_jogadores[6:10]
#  -----------------------
n <- 1
for (i in timeA){
timeA[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
n <- 1
for(i in timeB){
timeB[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
rm(links_jogadores, n, string_url)
timeA_medias <- list()
timeB_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- medias_jogadores(i)
}
for (i in timeB){
timeB_medias[[length(timeB_medias)+1]] <- medias_jogadores(i)
}
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% t %>% as.data.frame
timeA_medias$KAST <- round(timeA_medias$KAST, 0)
timeB_medias <- round(rowMeans(as.data.frame(timeB_medias)), 2) %>% t %>% as.data.frame
partida <- cbind(timeA_medias, timeB_medias)
colnames(partida) <- c('time1R', 'time1ACS', 'time1KAST', 'time1KD', 'time1ADR',
'time2R', 'time2ACS', 'time2KAST', 'time2KD', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
return(partida)
}
# Url da partida
medias_times('https://www.vlr.gg/167037/tropicaos-vs-keyd-stars-challengers-league-brazil-split-1-w3')
# Função medias_times -------------------------------------------------------------------------------------
medias_times <- function (url_partida){
# Pegando os dados no link da partida -------------------------------------------------------------------
links_jogadores <- read_html(url_partida) %>%
html_nodes('td.mod-player a') %>%
html_attr('href')
# Separando os nomes dos jogadores de cada time em 2 arrays
timeA <- links_jogadores[1:5]
timeB <- links_jogadores[6:10]
# Criando os links usando os nomes dos jogadores para ficar entre '...vlr.gg' e '/?timespan...'
n <- 1
for (i in timeA){
timeA[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
n <- 1
for(i in timeB){
timeB[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
timeA_medias <- list()
timeB_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- medias_jogadores(i)
}
for (i in timeB){
timeB_medias[[length(timeB_medias)+1]] <- medias_jogadores(i)
}
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% t %>% as.data.frame
timeA_medias$KAST <- round(timeA_medias$KAST, 0)
timeB_medias <- round(rowMeans(as.data.frame(timeB_medias)), 2) %>% t %>% as.data.frame
partida <- cbind(timeA_medias, timeB_medias)
colnames(partida) <- c('time1R', 'time1ACS', 'time1KAST', 'time1KD', 'time1ADR',
'time2R', 'time2ACS', 'time2KAST', 'time2KD', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
return(partida)
}
# Função medias_times -------------------------------------------------------------------------------------
medias_Times <- function (url_partida){
# Pegando os dados no link da partida -------------------------------------------------------------------
links_jogadores <- read_html(url_partida) %>%
html_nodes('td.mod-player a') %>%
html_attr('href')
# Separando os nomes dos jogadores de cada time em 2 arrays
timeA <- links_jogadores[1:5]
timeB <- links_jogadores[6:10]
# Criando os links usando os nomes dos jogadores para ficar entre '...vlr.gg' e '/?timespan...'
n <- 1
for (i in timeA){
timeA[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
n <- 1
for(i in timeB){
timeB[n] <- paste('https://www.vlr.gg', '/?timespan=all', sep = i)
n = n + 1
}
timeA_medias <- list()
timeB_medias <- list()
for (i in timeA){
timeA_medias[[length(timeA_medias)+1]] <- medias_Jogadores(i)
}
for (i in timeB){
timeB_medias[[length(timeB_medias)+1]] <- medias_Jogadores(i)
}
timeA_medias <- round(rowMeans(as.data.frame(timeA_medias)), 2) %>% t %>% as.data.frame
timeA_medias$KAST <- round(timeA_medias$KAST, 0)
timeB_medias <- round(rowMeans(as.data.frame(timeB_medias)), 2) %>% t %>% as.data.frame
partida <- cbind(timeA_medias, timeB_medias)
colnames(partida) <- c('time1R', 'time1ACS', 'time1KAST', 'time1KD', 'time1ADR',
'time2R', 'time2ACS', 'time2KAST', 'time2KD', 'time2ADR')
partida <- select(partida, 'time1R', 'time2R', 'time1ACS', 'time2ACS', 'time1KAST', 'time2KAST', 'time1KD', 'time2KD',
'time1ADR', 'time2ADR')
return(partida)
}
rm(media_times)
rm(medias_times)
rm(medias_jogadores)
# Função medias_jogadores ---------------------------------------------------------------------------------
medias_Jogadores <- function (url_jogador) {
html_lido <- read_html(as.character(url_jogador))
dados_jogador <- html_nodes(html_lido, 'table') %>%
html_table()
dados_jogador <- dados_jogador %>% map_df(as_tibble, .name_repair = 'minimal') %>%
dplyr::select(Rating, ACS, KAST, 'K:D', ADR)
dados_jogador$KAST <- parse_number(dados_jogador$KAST)
means_jogador <- round(colMeans(dados_jogador, na.rm = T), 2)
means_jogador[['KAST']] <- round(means_jogador[['KAST']], 0)
return(means_jogador)
}
create('valorant')
install.packages(c("devtools", "roxygen2"))
library(devtools)
library(roxygen2)
setwd("~/TCC Pós/Scripts/criando_pacote")
create('valorant')
document()
document()
?document
?document
document()
